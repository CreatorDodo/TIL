# Rollup Stages: L2 성숙도 프레임워크

Layer 2 스케일링 솔루션인 **롤업(Rollup)**은 이더리움의 미래에 핵심적인 역할을 합니다. 이 복잡한 생태계를 이해하기 위해 **Rollup Stages** 프레임워크가 개발되었습니다.

> 💡 이 프레임워크는 Vitalik Buterin이 제안하고 [L2BEAT](https://l2beat.com/scaling/summary)에서 구현했습니다.

## 핵심 개념

| 구분          | 설명                                                  |
| ------------- | ----------------------------------------------------- |
| **목적**      | 롤업의 성숙도와 탈중앙화 수준 추적                    |
| **주의사항**  | 보안의 직접적 척도가 아님                             |
| **진행 방향** | 중앙화된 "보조바퀴" 시스템 → 완전한 탈중앙화 프로토콜 |

---

## Stage 0: Full Training Wheels

가장 초기 단계로, **중앙화된 운영자**와 **Security Council**(신뢰된 위원회)에 크게 의존합니다.

### 자격 요건

| 요건                       | 설명                                                |
| -------------------------- | --------------------------------------------------- |
| **오픈소스 데이터 재구성** | L1에 게시된 데이터로 롤업 상태를 누구나 재구성 가능 |
| **제한적 사용자 출금**     | 7일 미만의 짧은 출금 창구, 중앙 운영자 협조 필요    |

---

## Stage 1: Enhanced Rollup Governance

핵심 기능이 **온체인 스마트 컨트랙트**로 이전되며, Security Council의 역할이 축소됩니다.

### 핵심 특징

| 특징                   | 설명                                                              |
| ---------------------- | ----------------------------------------------------------------- |
| **운영 증명 시스템**   | 완전히 기능하는 탈중앙화된 fraud-proof 또는 validity-proof 시스템 |
| **무허가 사용자 출금** | 7일 이상의 출금 창구, 운영자 허가 없이 자금 인출 가능             |

---

## Stage 2: No Training Wheels

최종 단계로, **완전히 성숙하고 탈중앙화된** 롤업입니다.

### 핵심 특징

| 특징                                | 설명                                            |
| ----------------------------------- | ----------------------------------------------- |
| **완전한 스마트 컨트랙트 거버넌스** | 중앙 운영자 없이 온체인 컨트랙트로 완전히 관리  |
| **무허가 증명 시스템**              | 누구나 체인 검증에 참여 가능                    |
| **제한된 Security Council**         | 온체인에서 판결된 오류 해결만 가능              |
| **충분한 출금 창구**                | 업그레이드 전 자산 인출을 위한 충분한 시간 제공 |

---

## 실제 사례: zkSync Era (Stage 0)

[L2BEAT](https://l2beat.com)의 리스크 분석을 통해 Stage 0 롤업의 위험 요소를 살펴봅니다.

### 리스크 분석

| 항목                  | 위험도  | 설명                                                                    |
| --------------------- | ------- | ----------------------------------------------------------------------- |
| **Data Availability** | 🟢 낮음 | L1에 게시된 state diffs로 상태 완전 재구성 가능                         |
| **State Validation**  | 🟢 낮음 | PLONK + KZG 커밋먼트를 사용한 ZK 증명 시스템                            |
| **Sequencer Failure** | 🟡 중간 | Sequencer 오프라인 시 시스템 중단, L1 큐 제출은 가능하나 강제 처리 불가 |
| **Proposer Failure**  | 🔴 높음 | 화이트리스트 기반 Proposer, 실패 시 출금 동결                           |
| **Exit Window**       | 🔴 높음 | 스마트 컨트랙트 즉시 업그레이드 가능, 사용자 대응 시간 없음             |

### 주요 위험 요소 상세

- **Sequencer Failure**: 자금 도난은 불가능하나 모든 사용자에게 동등하게 영향
- **Proposer Failure**: 사용자 자금 접근을 직접적으로 차단
- **Exit Window**: 악의적 업그레이드에 대한 사용자 보호 장치 부재
