# 트랜잭션과 가스 (Gas) 심화

## 개요

이더리움 블록체인에서 가스(Gas)가 어떻게 작동하고 어떤 목적으로 사용되는지 심층적으로 알아봅니다.

**참고**: 이 내용은 EIP-1559 구현 이후의 이더리움에 적용되며, 가스 한도(Gas Limit), 우선순위 수수료(Priority Fee), 소각 메커니즘이 도입된 이후를 다룹니다.

## 단위 체계

- **Wei**: 1,000,000,000 Wei = 1 Gwei
- **Gwei**: 1,000,000,000 Gwei = 1 ETH

## 트랜잭션 구성 요소

### 1. 트랜잭션 수수료 (Transaction Fee)

- **계산식**: 사용된 총 가스 × 가스 가격
- 가스 가격 = 기본 수수료(Base Fee) + 우선순위 수수료(Priority Fee)

### 2. 가스 한도 (Gas Limit)

- 트랜잭션에 허용되는 최대 가스량
- 사용자가 트랜잭션 전송 전 설정 가능
- Metamask에서 설정: Market > Advanced > Edit Gas Limit

### 3. 기본 가스 수수료 (Base Gas Fee)

- Gwei 단위로 표시되는 트랜잭션 기본 수수료
- **주요 특징**:
  - **소각(Burn)**: EIP-1559 이후 기본 수수료는 소각되어 인플레이션 방지
  - **동적 조정**:
    - 블록이 50% 이상 차면 다음 블록의 기본 수수료 증가
    - 블록이 50% 미만이면 다음 블록의 기본 수수료 감소
    - 네트워크 수요와 용량의 균형 유지

### 4. 최대 가스 수수료 (Max Gas Fee)

- 트랜잭션에서 허용하는 가스당 최대 비용
- 트랜잭션 전송 전 설정 가능

### 5. 최대 우선순위 수수료 (Max Priority Fee)

- 채굴자에게 제공할 의향이 있는 최대 팁(Tip)
- 블록에 트랜잭션 포함을 유도하는 인센티브
- 트랜잭션 전송 전 설정 가능

### 6. 블록 확인 (Block Confirmations)

- 트랜잭션이 포함된 것으로 확인된 블록의 수
- 확인 수가 많을수록 트랜잭션의 유효성 확신도 증가

## 핵심 요약

- 모든 트랜잭션은 고유한 **트랜잭션 해시**로 체인에서 식별됨
- **Etherscan** 같은 블록 탐색기에서 확인 가능한 정보:

  - 트랜잭션이 포함된 블록
  - 타임스탬프
  - 발신지 및 수신지 주소
  - 전송 금액
  - 트랜잭션 수수료 및 가스 비용 상세 내역

- **가스**는 작업 수행에 필요한 계산량의 측정 단위
- 트랜잭션 비용 = 가스 가격(기본 수수료 + 우선순위 수수료) × 사용된 가스량
- 이더리움의 기본 수수료는 **소각**되어 인플레이션 감소 및 네트워크 경제 안정화
- 기본 수수료는 블록 혼잡도에 따라 동적으로 조정됨 (>50%: 증가, <50%: 감소)
